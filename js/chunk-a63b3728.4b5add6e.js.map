{"version":3,"sources":["webpack:///./src/views/Lend.vue","webpack:///./src/components/Tooltip.vue","webpack:///./src/components/Tooltip.vue?027b","webpack:///./src/components/LendCareTr.vue","webpack:///./src/components/LendCareTr.vue?f9da","webpack:///./src/views/Lend.vue?760d"],"names":["class","formatBN","tvl","pools","item","key","lpName","pool","d","viewBox","focusable","data-icon","width","height","fill","aria-hidden","hidden","data","render","colspan","isShowAction","src","token0src","isNew","substring","ibTotalSupply","decimals","ibBalance","wantBalance","depositAmt","type","placeholder","setDepositMax","needApprove","loading","approving","onApprove","depositing","onDeposit","withdrawAmt","withdrawing","onWithdraw","components","Button","props","Object","default","ibToken","wantToken","watch","account","this","loadData","mounted","$store","state","methods","lendContract","want","ERC20","totalSupply","allowance","lt","utils","parseUnits","getBalance","balanceOf","dp","setWithdrawMax","deposit","value","tx","wait","console","log","eq","withdrawAll","withdraw","approve","BigNumber","from","pow","sub","name","Tooltip","LendCareTr","filter","p","isLend","getTokenPrice","tokenA","tokenADecimals","tokenB","tokenBDecimals","pancakeSwap","Contract","PancakeSwap","getAmountsOut","tokenPrice","length","toString","dividedBy","i","id","div","multipliedBy","plus"],"mappings":"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","file":"js/chunk-a63b3728.4b5add6e.js","sourcesContent":["<template>\n  <div class=\"container mx-auto mt-4 p-4\">\n    <div class=\"flex justify-center items-end flex-wrap md:justify-between\">\n      <div class=\"text-2xl\">Available Lending Pools</div>\n      <div\n        class=\" flex flex-col items-center justify-center border border-solid border-gray-200 rounded-3xl p-4 px-8 bg-white shadow\"\n      >\n        <div class=\"flex items-center \">\n          <div\n            class=\"relative flex items-center text-xl font-bold leading-10 mr-1 \"\n          >\n            Total Value Locked\n            <Tooltip v-if=\"false\" class=\"ml-1\"></Tooltip>\n          </div>\n        </div>\n\n        <div class=\"text-3xl text-green-400 leading-10\">\n          ${{ formatBN(tvl, { decimals: 0 }) }}\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"flex border border-solid rounded-3xl shadow bg-white p-6 px-0 mt-6\"\n    >\n      <div class=\"table-fixed w-full\">\n        <div>\n          <ul class=\"flex text-center\">\n            <li class=\"w-5/12 hidden md:block \"></li>\n            <li class=\"w-5/12 md:w-3/12\">Total Supply</li>\n            <li class=\"w-5/12 md:w-3/12\">Your Balance</li>\n            <li class=\"w-2/12\"></li>\n          </ul>\n        </div>\n        <div>\n          <LendCareTr\n            v-for=\"item in pools\"\n            :key=\"item.lpName\"\n            :pool=\"item\"\n          ></LendCareTr>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Tooltip from \"@/components/Tooltip\";\nimport LendCareTr from \"@/components/LendCareTr\";\nimport {\n  stakePools,\n  pancakeSwapRouter,\n  akitaAddress,\n  usdAddress,\n  usdDecimals,\n} from \"@/config\";\nimport { getContract, getProvider } from \"@/utils/initWeb3\";\nimport PancakeSwapABI from \"@/assets/abi/PancakeSwap.json\";\nimport ibTokenABI from \"@/assets/abi/ibToken.json\";\nimport { ethers } from \"ethers\";\nimport BigNumber from \"bignumber.js\";\nexport default {\n  name: \"Lend\",\n  components: {\n    Tooltip,\n    LendCareTr,\n  },\n  data() {\n    return {\n      hidden: false,\n      tvl: new BigNumber(0),\n      pools: stakePools.filter((p) => p.isLend),\n    };\n  },\n  watch: {\n    \"$store.state.account\": function(account) {\n      if (account) {\n        this.loadData();\n      }\n    },\n  },\n  mounted() {\n    if (this.$store.state.account) {\n      this.loadData();\n    }\n  },\n  methods: {\n    async getTokenPrice(tokenA, tokenADecimals, tokenB, tokenBDecimals) {\n      try {\n        const pancakeSwap = new ethers.Contract(\n          pancakeSwapRouter,\n          PancakeSwapABI,\n          getProvider()\n        );\n        let tokenPrice = await pancakeSwap.getAmountsOut(\n          ethers.utils.parseUnits(\"1\", tokenADecimals),\n          [tokenA, tokenB]\n        );\n        tokenPrice = new BigNumber(\n          tokenPrice[tokenPrice.length - 1].toString()\n        ).dividedBy(new BigNumber(10).pow(tokenBDecimals));\n        return tokenPrice;\n      } catch (error) {\n        console.log(\"getTokenPrice\", \"[\" + tokenA + \",\" + tokenB + \"]\", error);\n        return \"0\";\n      }\n    },\n    async loadData() {\n      for (let i = 0; i < this.pools.length; i++) {\n        const p = this.pools[i];\n        const pool = getContract(p.lendContract, ibTokenABI);\n        switch (p.id) {\n          case 1:\n            console.log(akitaAddress);\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString())\n                .div(new BigNumber(10).pow(18))\n                .multipliedBy(\n                  await this.getTokenPrice(\n                    akitaAddress,\n                    18,\n                    usdAddress,\n                    usdDecimals\n                  )\n                )\n            );\n            break;\n          case 2:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString())\n                .div(new BigNumber(10).pow(p.decimals))\n                .multipliedBy(\n                  await this.getTokenPrice(\n                    await pool.want(),\n                    18,\n                    usdAddress,\n                    usdDecimals\n                  )\n                )\n            );\n            break;\n          case 3:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString()).div(\n                new BigNumber(10).pow(p.decimals)\n              )\n            );\n            break;\n          case 4:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString()).div(\n                new BigNumber(10).pow(p.decimals)\n              )\n            );\n            break;\n          case 5:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString()).div(\n                new BigNumber(10).pow(p.decimals)\n              )\n            );\n            break;\n        }\n      }\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"hidden-wrap\">\n    <svg\n      viewBox=\"64 64 896 896\"\n      focusable=\"false\"\n      data-icon=\"info-circle\"\n      width=\"1em\"\n      height=\"1em\"\n      fill=\"currentColor\"\n      aria-hidden=\"true\"\n      @mouseenter=\"hidden = true\"\n      @mouseleave=\"hidden = false\"\n    >\n      <path\n        d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"\n      ></path>\n      <path\n        d=\"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z\"\n      ></path>\n    </svg>\n    <div\n      v-show=\"hidden\"\n      class=\"duration-100 transition-all ease-linear absolute bottom-9 -right-8 w-72 bg-black bg-opacity-80 p-3 text-white text-sm rounded\"\n    >\n      Value of total LP tokens locked + deposits that are not borrowed +\n      ALPACA-BNB LP tokens staked + sALPACA staked\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      hidden: false,\n    };\n  },\n};\n</script>\n\n<style></style>\n","import { render } from \"./Tooltip.vue?vue&type=template&id=77b76682\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=js\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <ul\n    class=\"flex flex-wrap md:flex-nowrap border-solid border-b border-last hover:bg-gray-50 pt-2\"\n    :class=\"{ 'bg-gray-50': isShowAction }\"\n  >\n    <li class=\"w-full md:w-5/12 mb-2 md:mb-0  flex justify-center\">\n      <div class=\"items-center pl-6 flex\">\n        <div class=\"w-10 mr-4\">\n          <img class=\"w-full\" :src=\"pool.token0src\" />\n        </div>\n        <div>\n          <p class=\"text-xl font-bold\">\n            {{ pool.lpName }}\n            <span\n              v-if=\"pool.isNew\"\n              class=\"bg-green-400 text-white px-3 mx-auto text-sm shadow\"\n              >New</span\n            >\n          </p>\n          <sapn class=\"text-sm bg-gray-100 text-gray-500 rounded px-1\">\n            1 {{ pool.lpName }} = 1 {{ pool.lpName.substring(2) }}\n          </sapn>\n        </div>\n      </div>\n    </li>\n    <li class=\"w-5/12 md:w-3/12 flex justify-center items-center\">\n      <div class=\"flex flex-col text-center\">\n        <p class=\"text-lg\">\n          {{ formatBN(ibTotalSupply, { decimals: pool.decimals }) }}\n        </p>\n        <p class=\"text-lg\">{{ pool.lpName }}</p>\n      </div>\n    </li>\n    <li class=\"w-5/12 md:w-3/12 flex justify-center items-center\">\n      <div class=\"flex flex-col text-center\">\n        <p class=\"text-lg\">\n          {{ formatBN(ibBalance, { decimals: pool.decimals }) }}\n          {{ pool.lpName }}\n        </p>\n        <p class=\"text-lg\">\n          {{ formatBN(wantBalance, { decimals: pool.decimals }) }}\n          {{ pool.lpName.substring(2) }}\n        </p>\n      </div>\n    </li>\n    <li class=\"w-2/12\">\n      <div\n        class=\"flex flex-col text-center py-6 cursor-pointer\"\n        @click=\"isShowAction = !isShowAction\"\n      >\n        <div\n          class=\"cursor-not-allowed m-auto font-normal text-gray-500 relative  md:static -top-9\"\n        >\n          <i v-show=\"isShowAction\" class=\"icon ion-chevron-down\"></i>\n          <i v-show=\"!isShowAction\" class=\"icon ion-chevron-right\"></i>\n        </div>\n      </div>\n    </li>\n  </ul>\n  <ul\n    v-if=\"isShowAction\"\n    class=\"border-b-20 border-white text-gray-400\"\n    :class=\"{ 'bg-gray-50': isShowAction }\"\n  >\n    <li colspan=\"4\" class=\" py-4\">\n      <div class=\"flex-col mx-6 md:flex md:flex-row justify-evenly\">\n        <div class=\"w-full md:w-5/12\">\n          <div class=\"text-sm text-gray-400\">\n            Available Balance:\n            {{ formatBN(wantBalance, { decimals: pool.decimals }) }}\n            {{ pool.lpName.substring(2) }}\n          </div>\n          <div\n            class=\"w-full flex items-center  border border-gray-200 bg-white\"\n          >\n            <input\n              v-model=\"depositAmt\"\n              type=\"number\"\n              placeholder=\"Deposit Amount\"\n              class=\"outline-none w-full h-10 rounded-md mt-1 pl-4\"\n            />\n            <button\n              @click=\"setDepositMax\"\n              class=\"focus:outline-none text-green-400 appearance-none outline-none h-4/5 border-l border-solid border-gray-200 w-20\"\n            >\n              MAX\n            </button>\n          </div>\n          <div\n            class=\"mt-4 flex flex-wrap justify-center md:justify-between items-center\"\n          >\n            <p class=\"text-sm\">\n              You will receive:\n              <span class=\"text-green-400\"\n                >~ {{ depositAmt }} {{ pool.lpName }}</span\n              >\n            </p>\n            <Button :loading=\"approving\" @click=\"onApprove\" v-if=\"needApprove\">\n              Approve\n            </Button>\n            <Button :loading=\"depositing\" @click=\"onDeposit\" v-else>\n              Deposit\n            </Button>\n          </div>\n        </div>\n        <div class=\"my-4 border\"></div>\n        <div class=\"w-full md:w-5/12\">\n          <div class=\"text-sm text-gray-400\">\n            Available Balance:\n            {{ formatBN(ibBalance, { decimals: pool.decimals }) }}\n            {{ pool.lpName }}\n          </div>\n          <div\n            class=\"w-full flex items-center  border border-gray-200 bg-white\"\n          >\n            <input\n              v-model=\"withdrawAmt\"\n              type=\"number\"\n              placeholder=\"Withdraw Amount\"\n              class=\"outline-none w-full h-10 rounded-md mt-1 pl-4\"\n            />\n            <button\n              class=\"focus:outline-none text-green-400 appearance-none outline-none h-4/5 border-l border-solid border-gray-200 w-20\"\n            >\n              MAX\n            </button>\n          </div>\n          <div\n            class=\"mt-4 flex flex-wrap justify-center md:justify-between items-center\"\n          >\n            <p class=\"text-sm\">\n              You will receive:\n              <span class=\"text-green-400\"\n                >~ {{ withdrawAmt }} {{ pool.lpName.substring(2) }}</span\n              >\n            </p>\n            <Button :loading=\"withdrawing\" @click=\"onWithdraw\">\n              Withdraw\n            </Button>\n          </div>\n        </div>\n      </div>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport { getContract, getProvider } from \"@/utils/initWeb3\";\nimport ibTokenABI from \"@/assets/abi/ibToken.json\";\nimport ERC20ABI from \"@/assets/abi/ERC20.json\";\nimport { ethers } from \"ethers\";\nimport { BigNumber } from \"bignumber.js\";\nimport Button from \"./Button.vue\";\nexport default {\n  components: {\n    Button,\n  },\n  props: {\n    pool: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      isShowAction: false,\n      needApprove: false,\n      depositing: false,\n      approving: false,\n      withdrawing: false,\n      ibTotalSupply: \"0\",\n      ibBalance: \"0\",\n      wantBalance: \"0\",\n      depositAmt: \"0\",\n      withdrawAmt: \"0\",\n      ibToken: null,\n      wantToken: null,\n    };\n  },\n  watch: {\n    \"$store.state.account\": async function(account) {\n      if (account) {\n        this.loadData();\n      }\n    },\n  },\n  async mounted() {\n    if (this.$store.state.account) {\n      this.loadData();\n    }\n  },\n  methods: {\n    async loadData() {\n      this.ibToken = getContract(this.pool.lendContract, ibTokenABI);\n      this.wantToken = getContract(await this.ibToken.want(), ERC20ABI);\n      this.ibTotalSupply = await this.ibToken.totalSupply();\n      this.needApprove =\n        this.pool.lpName == \"ibFTM\"\n          ? false\n          : (\n              await this.wantToken.allowance(\n                this.$store.state.account,\n                this.pool.lendContract\n              )\n            ).lt(ethers.utils.parseUnits(\"10000000000\", this.pool.decimals));\n      this.wantBalance =\n        this.pool.lpName == \"ibFTM\"\n          ? await getProvider().getBalance(this.$store.state.account)\n          : await this.wantToken.balanceOf(this.$store.state.account);\n      this.ibBalance = await this.ibToken.balanceOf(this.$store.state.account);\n    },\n    setDepositMax() {\n      this.depositAmt = this.formatBN(this.wantBalance, {\n        decimals: this.pool.decimals,\n        dp: this.pool.decimals,\n      });\n    },\n    setWithdrawMax() {\n      this.withdrawAmt = this.formatBN(this.ibBalance, {\n        decimals: this.pool.decimals,\n        dp: this.pool.decimals,\n      });\n    },\n    async onDeposit() {\n      try {\n        this.depositing = true;\n        const tx = await this.ibToken.deposit(\n          ethers.utils.parseUnits(this.depositAmt, this.pool.decimals),\n          {\n            value:\n              this.pool.lpName == \"ibFTM\"\n                ? ethers.utils.parseUnits(this.depositAmt, this.pool.decimals)\n                : 0,\n          }\n        );\n        await tx.wait();\n        this.loadData();\n      } catch (error) {\n        console.log(\"onDeposit\", error);\n      } finally {\n        this.depositing = false;\n      }\n    },\n    async onWithdraw() {\n      try {\n        this.withdrawing = true;\n        const tx = await (new BigNumber(this.ibBalance).eq(\n          ethers.utils.parseUnits(this.withdrawAmt, this.pool.decimals)\n        )\n          ? this.ibToken.withdrawAll()\n          : this.ibToken.withdraw(\n              ethers.utils.parseUnits(this.withdrawAmt, this.pool.decimals)\n            ));\n        await tx.wait();\n        this.loadData();\n      } catch (error) {\n        console.log(\"onDeposit\", error);\n      } finally {\n        this.withdrawing = false;\n      }\n    },\n    async onApprove() {\n      try {\n        this.approving = true;\n        const tx = await this.wantToken.approve(\n          this.pool.lendContract,\n          ethers.BigNumber.from(\"2\")\n            .pow(\"256\")\n            .sub(\"1\")\n        );\n        await tx.wait();\n        this.needApprove = false;\n      } catch (error) {\n        console.log(\"onApprove\", error);\n      } finally {\n        this.approving = false;\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./LendCareTr.vue?vue&type=template&id=010eceac\"\nimport script from \"./LendCareTr.vue?vue&type=script&lang=js\"\nexport * from \"./LendCareTr.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Lend.vue?vue&type=template&id=f332a3ca\"\nimport script from \"./Lend.vue?vue&type=script&lang=js\"\nexport * from \"./Lend.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/views/Lend.vue","webpack:///./src/components/Tooltip.vue","webpack:///./src/components/Tooltip.vue?027b","webpack:///./src/components/LendCareTr.vue","webpack:///./src/components/LendCareTr.vue?f9da","webpack:///./src/views/Lend.vue?760d"],"names":["class","formatBN","tvl","pools","item","key","lpName","pool","d","viewBox","focusable","data-icon","width","height","fill","aria-hidden","hidden","data","render","colspan","isShowAction","src","token0src","isNew","substring","ibTotalSupply","decimals","ibBalance","wantBalance","depositAmt","type","placeholder","setDepositMax","needApprove","loading","approving","onApprove","depositing","onDeposit","withdrawAmt","setWithdrawMax","withdrawing","onWithdraw","components","Button","props","Object","default","ibToken","wantToken","watch","account","this","loadData","mounted","$store","state","methods","lendContract","want","ERC20","totalSupply","allowance","lt","utils","parseUnits","getBalance","balanceOf","formatBNWithoutGroup","dp","deposit","value","tx","wait","console","log","eq","withdrawAll","withdraw","approve","BigNumber","from","pow","sub","name","Tooltip","LendCareTr","filter","p","isLend","getTokenPrice","path","inDecimals","outDecimals","pancakeSwap","Contract","PancakeSwap","getAmountsOut","tokenPrice","length","toString","dividedBy","i","id","div","multipliedBy","plus"],"mappings":"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","file":"js/chunk-2d0bd207.827a48e3.js","sourcesContent":["<template>\n  <div class=\"container mx-auto mt-4 p-4\">\n    <div class=\"flex justify-center items-end flex-wrap md:justify-between\">\n      <div class=\"text-2xl\">Available Lending Pools</div>\n      <div\n        class=\" flex flex-col items-center justify-center border border-solid border-gray-200 rounded-3xl p-4 px-8 bg-white shadow\"\n      >\n        <div class=\"flex items-center \">\n          <div\n            class=\"relative flex items-center text-xl font-bold leading-10 mr-1 \"\n          >\n            Total Value Locked\n            <Tooltip v-if=\"false\" class=\"ml-1\"></Tooltip>\n          </div>\n        </div>\n\n        <div class=\"text-3xl text-green-400 leading-10\">\n          ${{ formatBN(tvl, { decimals: 0, dp: 2 }) }}\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"flex border border-solid rounded-3xl shadow bg-white p-6 px-0 mt-6\"\n    >\n      <div class=\"table-fixed w-full\">\n        <div>\n          <ul class=\"flex text-center\">\n            <li class=\"w-5/12 hidden md:block \"></li>\n            <li class=\"w-5/12 md:w-3/12\">Total Supply</li>\n            <li class=\"w-5/12 md:w-3/12\">Your Balance</li>\n            <li class=\"w-2/12\"></li>\n          </ul>\n        </div>\n        <div>\n          <LendCareTr\n            v-for=\"item in pools\"\n            :key=\"item.lpName\"\n            :pool=\"item\"\n          ></LendCareTr>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Tooltip from \"@/components/Tooltip\";\nimport LendCareTr from \"@/components/LendCareTr\";\nimport {\n  stakePools,\n  pancakeSwapRouter,\n  akitaAddress,\n  usdAddress,\n  wftmAddress,\n  usdDecimals,\n} from \"@/config\";\nimport { getContract, getProvider } from \"@/utils/initWeb3\";\nimport PancakeSwapABI from \"@/assets/abi/PancakeSwap.json\";\nimport ibTokenABI from \"@/assets/abi/ibToken.json\";\nimport { ethers } from \"ethers\";\nimport BigNumber from \"bignumber.js\";\nexport default {\n  name: \"Lend\",\n  components: {\n    Tooltip,\n    LendCareTr,\n  },\n  data() {\n    return {\n      hidden: false,\n      tvl: new BigNumber(0),\n      pools: stakePools.filter((p) => p.isLend),\n    };\n  },\n  watch: {\n    \"$store.state.account\": function(account) {\n      if (account) {\n        this.loadData();\n      }\n    },\n  },\n  mounted() {\n    if (this.$store.state.account) {\n      this.loadData();\n    }\n  },\n  methods: {\n    async getTokenPrice(path, inDecimals, outDecimals) {\n      try {\n        const pancakeSwap = new ethers.Contract(\n          pancakeSwapRouter,\n          PancakeSwapABI,\n          getProvider()\n        );\n        let tokenPrice = await pancakeSwap.getAmountsOut(\n          ethers.utils.parseUnits(\"1\", inDecimals),\n          path\n        );\n        tokenPrice = new BigNumber(\n          tokenPrice[tokenPrice.length - 1].toString()\n        ).dividedBy(new BigNumber(10).pow(outDecimals));\n        return tokenPrice;\n      } catch (error) {\n        console.log(\"getTokenPrice\", path, error);\n        return \"0\";\n      }\n    },\n    async loadData() {\n      this.tvl = new BigNumber(\"0\");\n      for (let i = 0; i < this.pools.length; i++) {\n        const p = this.pools[i];\n        const pool = getContract(p.lendContract, ibTokenABI);\n        switch (p.id) {\n          case 1:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString())\n                .div(new BigNumber(10).pow(18))\n                .multipliedBy(\n                  await this.getTokenPrice(\n                    [akitaAddress, wftmAddress, usdAddress],\n                    18,\n                    usdDecimals\n                  )\n                )\n            );\n            break;\n          case 2:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString())\n                .div(new BigNumber(10).pow(p.decimals))\n                .multipliedBy(\n                  await this.getTokenPrice(\n                    [await pool.want(), usdAddress],\n                    18,\n                    usdDecimals\n                  )\n                )\n            );\n            break;\n          case 3:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString()).div(\n                new BigNumber(10).pow(p.decimals)\n              )\n            );\n            break;\n          case 4:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString()).div(\n                new BigNumber(10).pow(p.decimals)\n              )\n            );\n            break;\n          case 5:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString()).div(\n                new BigNumber(10).pow(p.decimals)\n              )\n            );\n            break;\n        }\n      }\n    },\n  },\n};\n</script>\n","<template>\n  <div class=\"hidden-wrap\">\n    <svg\n      viewBox=\"64 64 896 896\"\n      focusable=\"false\"\n      data-icon=\"info-circle\"\n      width=\"1em\"\n      height=\"1em\"\n      fill=\"currentColor\"\n      aria-hidden=\"true\"\n      @mouseenter=\"hidden = true\"\n      @mouseleave=\"hidden = false\"\n    >\n      <path\n        d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"\n      ></path>\n      <path\n        d=\"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z\"\n      ></path>\n    </svg>\n    <div\n      v-show=\"hidden\"\n      class=\"duration-100 transition-all ease-linear absolute bottom-9 -right-8 w-72 bg-black bg-opacity-80 p-3 text-white text-sm rounded\"\n    >\n      Value of total LP tokens locked + deposits that are not borrowed +\n      ALPACA-BNB LP tokens staked + sALPACA staked\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      hidden: false,\n    };\n  },\n};\n</script>\n\n<style></style>\n","import { render } from \"./Tooltip.vue?vue&type=template&id=77b76682\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=js\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <ul\n    class=\"flex flex-wrap md:flex-nowrap border-solid border-b border-last hover:bg-gray-50 pt-2\"\n    :class=\"{ 'bg-gray-50': isShowAction }\"\n  >\n    <li class=\"w-full md:w-5/12 mb-2 md:mb-0 flex justify-center\">\n      <div class=\"items-center pl-6 flex\">\n        <div class=\"w-10 mr-4\">\n          <img class=\"w-full\" :src=\"pool.token0src\" />\n        </div>\n        <div>\n          <p class=\"text-xl font-bold\">\n            {{ pool.lpName }}\n            <span\n              v-if=\"pool.isNew\"\n              class=\"bg-green-400 text-white px-3 mx-auto text-sm shadow\"\n            >New</span>\n          </p>\n          <sapn\n            class=\"text-sm bg-gray-100 text-gray-500 rounded px-1\"\n          >1 {{ pool.lpName }} = 1 {{ pool.lpName.substring(2) }}</sapn>\n        </div>\n      </div>\n    </li>\n    <li class=\"w-5/12 md:w-3/12 flex justify-center items-center\">\n      <div class=\"flex flex-col text-center\">\n        <p class=\"text-lg\">{{ formatBN(ibTotalSupply, { decimals: pool.decimals }) }}</p>\n        <p class=\"text-lg\">{{ pool.lpName }}</p>\n      </div>\n    </li>\n    <li class=\"w-5/12 md:w-3/12 flex justify-center items-center\">\n      <div class=\"flex flex-col text-center\">\n        <p class=\"text-lg\">\n          {{ formatBN(ibBalance, { decimals: pool.decimals }) }}\n          {{ pool.lpName }}\n        </p>\n        <p class=\"text-lg\">\n          {{ formatBN(wantBalance, { decimals: pool.decimals }) }}\n          {{ pool.lpName.substring(2) }}\n        </p>\n      </div>\n    </li>\n    <li class=\"w-2/12\">\n      <div\n        class=\"flex flex-col text-center py-6 cursor-pointer\"\n        @click=\"isShowAction = !isShowAction\"\n      >\n        <div class=\"cursor-not-allowed m-auto font-normal text-gray-500 relative md:static -top-9\">\n          <i v-show=\"isShowAction\" class=\"icon ion-chevron-down\"></i>\n          <i v-show=\"!isShowAction\" class=\"icon ion-chevron-right\"></i>\n        </div>\n      </div>\n    </li>\n  </ul>\n  <ul\n    v-if=\"isShowAction\"\n    class=\"border-b-20 border-white text-gray-400\"\n    :class=\"{ 'bg-gray-50': isShowAction }\"\n  >\n    <li colspan=\"4\" class=\"py-4\">\n      <div class=\"flex-col mx-6 md:flex md:flex-row justify-evenly\">\n        <div class=\"w-full md:w-5/12\">\n          <div class=\"text-sm text-gray-400\">\n            Available Balance:\n            {{ formatBN(wantBalance, { decimals: pool.decimals }) }}\n            {{ pool.lpName.substring(2) }}\n          </div>\n          <div class=\"w-full flex items-center border border-gray-200 bg-white\">\n            <input\n              v-model=\"depositAmt\"\n              type=\"number\"\n              placeholder=\"Deposit Amount\"\n              class=\"outline-none w-full h-10 rounded-md mt-1 pl-4\"\n            />\n            <button\n              @click=\"setDepositMax\"\n              class=\"focus:outline-none text-green-400 appearance-none outline-none h-4/5 border-l border-solid border-gray-200 w-20\"\n            >MAX</button>\n          </div>\n          <div class=\"mt-4 flex flex-wrap justify-center md:justify-between items-center\">\n            <p class=\"text-sm\">\n              You will receive:\n              <span class=\"text-green-400\">~ {{ depositAmt }} {{ pool.lpName }}</span>\n            </p>\n            <Button :loading=\"approving\" @click=\"onApprove\" v-if=\"needApprove\">Approve</Button>\n            <Button :loading=\"depositing\" @click=\"onDeposit\" v-else>Deposit</Button>\n          </div>\n        </div>\n        <div class=\"my-4 border\"></div>\n        <div class=\"w-full md:w-5/12\">\n          <div class=\"text-sm text-gray-400\">\n            Available Balance:\n            {{ formatBN(ibBalance, { decimals: pool.decimals }) }}\n            {{ pool.lpName }}\n          </div>\n          <div class=\"w-full flex items-center border border-gray-200 bg-white\">\n            <input\n              v-model=\"withdrawAmt\"\n              type=\"number\"\n              placeholder=\"Withdraw Amount\"\n              class=\"outline-none w-full h-10 rounded-md mt-1 pl-4\"\n            />\n            <button\n              @click=\"setWithdrawMax\"\n              class=\"focus:outline-none text-green-400 appearance-none outline-none h-4/5 border-l border-solid border-gray-200 w-20\"\n            >MAX</button>\n          </div>\n          <div class=\"mt-4 flex flex-wrap justify-center md:justify-between items-center\">\n            <p class=\"text-sm\">\n              You will receive:\n              <span\n                class=\"text-green-400\"\n              >~ {{ withdrawAmt }} {{ pool.lpName.substring(2) }}</span>\n            </p>\n            <Button :loading=\"withdrawing\" @click=\"onWithdraw\">Withdraw</Button>\n          </div>\n        </div>\n      </div>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport { getContract, getProvider } from \"@/utils/initWeb3\";\nimport ibTokenABI from \"@/assets/abi/ibToken.json\";\nimport ERC20ABI from \"@/assets/abi/ERC20.json\";\nimport { ethers } from \"ethers\";\nimport { BigNumber } from \"bignumber.js\";\nimport Button from \"./Button.vue\";\nexport default {\n  components: {\n    Button,\n  },\n  props: {\n    pool: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      isShowAction: false,\n      needApprove: false,\n      depositing: false,\n      approving: false,\n      withdrawing: false,\n      ibTotalSupply: \"0\",\n      ibBalance: \"0\",\n      wantBalance: \"0\",\n      depositAmt: \"0\",\n      withdrawAmt: \"0\",\n      ibToken: null,\n      wantToken: null,\n    };\n  },\n  watch: {\n    \"$store.state.account\": async function (account) {\n      if (account) {\n        this.loadData();\n      }\n    },\n  },\n  async mounted() {\n    if (this.$store.state.account) {\n      this.loadData();\n    }\n  },\n  methods: {\n    async loadData() {\n      this.ibToken = getContract(this.pool.lendContract, ibTokenABI);\n      this.wantToken = getContract(await this.ibToken.want(), ERC20ABI);\n      this.ibTotalSupply = await this.ibToken.totalSupply();\n      this.needApprove =\n        this.pool.lpName == \"ibFTM\"\n          ? false\n          : (\n              await this.wantToken.allowance(\n                this.$store.state.account,\n                this.pool.lendContract\n              )\n            ).lt(ethers.utils.parseUnits(\"10000000000\", this.pool.decimals));\n      this.wantBalance =\n        this.pool.lpName == \"ibFTM\"\n          ? await getProvider().getBalance(this.$store.state.account)\n          : await this.wantToken.balanceOf(this.$store.state.account);\n      this.ibBalance = await this.ibToken.balanceOf(this.$store.state.account);\n    },\n    setDepositMax() {\n      this.depositAmt = this.formatBNWithoutGroup(this.wantBalance, {\n        decimals: this.pool.decimals,\n        dp: this.pool.decimals,\n      });\n    },\n    setWithdrawMax() {\n      this.withdrawAmt = this.formatBNWithoutGroup(this.ibBalance, {\n        decimals: this.pool.decimals,\n        dp: this.pool.decimals,\n      });\n    },\n    async onDeposit() {\n      try {\n        this.depositing = true;\n        const tx = await this.ibToken.deposit(\n          ethers.utils.parseUnits(this.depositAmt, this.pool.decimals),\n          {\n            value:\n              this.pool.lpName == \"ibFTM\"\n                ? ethers.utils.parseUnits(this.depositAmt, this.pool.decimals)\n                : 0,\n          }\n        );\n        await tx.wait();\n        this.loadData();\n      } catch (error) {\n        console.log(\"onDeposit\", error);\n      } finally {\n        this.depositing = false;\n      }\n    },\n    async onWithdraw() {\n      try {\n        this.withdrawing = true;\n        const tx = await (new BigNumber(this.ibBalance).eq(\n          ethers.utils.parseUnits(this.withdrawAmt, this.pool.decimals)\n        )\n          ? this.ibToken.withdrawAll()\n          : this.ibToken.withdraw(\n              ethers.utils.parseUnits(this.withdrawAmt, this.pool.decimals)\n            ));\n        await tx.wait();\n        this.loadData();\n      } catch (error) {\n        console.log(\"onDeposit\", error);\n      } finally {\n        this.withdrawing = false;\n      }\n    },\n    async onApprove() {\n      try {\n        this.approving = true;\n        const tx = await this.wantToken.approve(\n          this.pool.lendContract,\n          ethers.BigNumber.from(\"2\").pow(\"256\").sub(\"1\")\n        );\n        await tx.wait();\n        this.needApprove = false;\n      } catch (error) {\n        console.log(\"onApprove\", error);\n      } finally {\n        this.approving = false;\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./LendCareTr.vue?vue&type=template&id=40e40543\"\nimport script from \"./LendCareTr.vue?vue&type=script&lang=js\"\nexport * from \"./LendCareTr.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Lend.vue?vue&type=template&id=7186f1e8\"\nimport script from \"./Lend.vue?vue&type=script&lang=js\"\nexport * from \"./Lend.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}
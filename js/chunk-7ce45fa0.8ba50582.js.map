{"version":3,"sources":["webpack:///./src/components/Tooltip.vue","webpack:///./src/components/Tooltip.vue?027b","webpack:///./src/views/Lend.vue","webpack:///./src/views/Lend.vue?760d","webpack:///./src/components/LendCareTr.vue","webpack:///./src/components/LendCareTr.vue?f9da"],"names":["class","d","viewBox","focusable","data-icon","width","height","fill","aria-hidden","hidden","data","render","formatBN","tvl","pools","item","key","lpName","pool","name","components","Tooltip","LendCareTr","filter","p","isLend","watch","account","this","loadData","mounted","$store","state","methods","getTokenPrice","path","inDecimals","outDecimals","pancakeSwap","Contract","PancakeSwap","getAmountsOut","utils","parseUnits","tokenPrice","length","toString","dividedBy","pow","console","log","i","lendContract","ibToken","id","totalSupply","div","multipliedBy","plus","decimals","want","colspan","isShowAction","src","token0src","token1src","isNew","a1tob","substring","ibTotalSupply","ibBalance","wantBalance","token0addr","token1addr","href","addLp","depositAmt","type","placeholder","setDepositMax","depositReceive","needApprove","loading","approving","onApprove","depositing","onDeposit","withdrawAmt","setWithdrawMax","withdrawReceive","withdrawing","onWithdraw","Button","props","Object","default","wantToken","fbtoa","fatob","amt","isVault","totalTokenBalance","totalShareBalance","vault","ERC20","allowance","lt","getBalance","balanceOf","formatBNWithoutGroup","dp","deposit","value","tx","wait","eq","withdrawAll","withdraw","approve","BigNumber","from","sub"],"mappings":"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","file":"js/chunk-7ce45fa0.8ba50582.js","sourcesContent":["<template>\n  <div class=\"hidden-wrap\">\n    <svg\n      viewBox=\"64 64 896 896\"\n      focusable=\"false\"\n      data-icon=\"info-circle\"\n      width=\"1em\"\n      height=\"1em\"\n      fill=\"currentColor\"\n      aria-hidden=\"true\"\n      @mouseenter=\"hidden = true\"\n      @mouseleave=\"hidden = false\"\n    >\n      <path\n        d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"\n      ></path>\n      <path\n        d=\"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z\"\n      ></path>\n    </svg>\n    <div\n      v-show=\"hidden\"\n      class=\"duration-100 transition-all ease-linear absolute bottom-9 -right-8 w-72 bg-black bg-opacity-80 p-3 text-white text-sm rounded\"\n    >\n      Value of total LP tokens locked + deposits that are not borrowed +\n      ALPACA-BNB LP tokens staked + sALPACA staked\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      hidden: false,\n    };\n  },\n};\n</script>\n\n<style></style>\n","import { render } from \"./Tooltip.vue?vue&type=template&id=77b76682\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=js\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"container mx-auto mt-4 p-4\">\n    <div class=\"flex justify-center items-end flex-wrap md:justify-between\">\n      <div class=\"text-2xl\">Available Lending Pools</div>\n      <div\n        class=\" flex flex-col items-center justify-center border border-solid border-gray-200 rounded-3xl p-4 px-8 bg-white shadow\"\n      >\n        <div class=\"flex items-center \">\n          <div\n            class=\"relative flex items-center text-xl font-bold leading-10 mr-1 \"\n          >\n            Total Value Locked\n            <Tooltip v-if=\"false\" class=\"ml-1\"></Tooltip>\n          </div>\n        </div>\n\n        <div class=\"text-3xl text-green-400 leading-10\">\n          ${{ formatBN(tvl, { decimals: 0, dp: 2 }) }}\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"flex border border-solid rounded-3xl shadow bg-white p-6 px-0 mt-6\"\n    >\n      <div class=\"table-fixed w-full\">\n        <div>\n          <ul class=\"flex text-center\">\n            <li class=\"w-5/12 hidden md:block \"></li>\n            <li class=\"w-5/12 md:w-3/12\">Total Supply</li>\n            <li class=\"w-5/12 md:w-3/12\">Your Balance</li>\n            <li class=\"w-2/12\"></li>\n          </ul>\n        </div>\n        <div>\n          <LendCareTr\n            v-for=\"item in pools\"\n            :key=\"item.lpName\"\n            :pool=\"item\"\n          ></LendCareTr>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Tooltip from \"@/components/Tooltip\";\nimport LendCareTr from \"@/components/LendCareTr\";\nimport {\n  stakePools,\n  pancakeSwapRouter,\n  akitaAddress,\n  usdAddress,\n  wftmAddress,\n  usdDecimals,\n} from \"@/config\";\nimport { getContract, getProvider } from \"@/utils/initWeb3\";\nimport PancakeSwapABI from \"@/assets/abi/PancakeSwap.json\";\nimport ibTokenABI from \"@/assets/abi/ibToken.json\";\nimport { ethers } from \"ethers\";\nimport BigNumber from \"bignumber.js\";\nexport default {\n  name: \"Lend\",\n  components: {\n    Tooltip,\n    LendCareTr,\n  },\n  data() {\n    return {\n      hidden: false,\n      tvl: new BigNumber(0),\n      pools: stakePools.filter((p) => p.isLend),\n    };\n  },\n  watch: {\n    \"$store.state.account\": function(account) {\n      if (account) {\n        this.loadData();\n      }\n    },\n  },\n  mounted() {\n    if (this.$store.state.account) {\n      this.loadData();\n    }\n  },\n  methods: {\n    async getTokenPrice(path, inDecimals, outDecimals) {\n      try {\n        const pancakeSwap = new ethers.Contract(\n          pancakeSwapRouter,\n          PancakeSwapABI,\n          getProvider()\n        );\n        let tokenPrice = await pancakeSwap.getAmountsOut(\n          ethers.utils.parseUnits(\"1\", inDecimals),\n          path\n        );\n        tokenPrice = new BigNumber(\n          tokenPrice[tokenPrice.length - 1].toString()\n        ).dividedBy(new BigNumber(10).pow(outDecimals));\n        return tokenPrice;\n      } catch (error) {\n        console.log(\"getTokenPrice\", path, error);\n        return \"0\";\n      }\n    },\n    async loadData() {\n      this.tvl = new BigNumber(\"0\");\n      for (let i = 0; i < this.pools.length; i++) {\n        const p = this.pools[i];\n        const pool = getContract(p.lendContract, ibTokenABI);\n        switch (p.id) {\n          case 1:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString())\n                .div(new BigNumber(10).pow(18))\n                .multipliedBy(\n                  await this.getTokenPrice(\n                    [akitaAddress, wftmAddress, usdAddress],\n                    18,\n                    usdDecimals\n                  )\n                )\n            );\n            break;\n          case 2:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString())\n                .div(new BigNumber(10).pow(p.decimals))\n                .multipliedBy(\n                  await this.getTokenPrice(\n                    [await pool.want(), usdAddress],\n                    18,\n                    usdDecimals\n                  )\n                )\n            );\n            break;\n          case 3:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString()).div(\n                new BigNumber(10).pow(p.decimals)\n              )\n            );\n            break;\n          case 4:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString()).div(\n                new BigNumber(10).pow(p.decimals)\n              )\n            );\n            break;\n          case 5:\n            this.tvl = this.tvl.plus(\n              new BigNumber((await pool.totalSupply()).toString()).div(\n                new BigNumber(10).pow(p.decimals)\n              )\n            );\n            break;\n        }\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./Lend.vue?vue&type=template&id=7186f1e8\"\nimport script from \"./Lend.vue?vue&type=script&lang=js\"\nexport * from \"./Lend.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <ul\n    class=\"flex flex-wrap md:flex-nowrap border-solid border-b border-last hover:bg-gray-50 pt-2\"\n    :class=\"{ 'bg-gray-50': isShowAction }\"\n  >\n    <li class=\"w-full md:w-5/12 mb-2 md:mb-0 flex justify-center\">\n      <div class=\"items-center pl-6 flex\">\n        <div class=\"w-10 md:w-14 mr-4\">\n          <img class=\"w-6 md:w-9 inline\" :src=\"pool.token0src\" />\n          <img class=\"w-6 md:w-9 inline z-0 -ml-3 md:-ml-4\" :src=\"pool.token1src\" />\n        </div>\n        <div>\n          <p class=\"text-xl font-bold\">\n            {{ pool.lpName }}\n            <span\n              v-if=\"pool.isNew\"\n              class=\"bg-green-400 text-white px-3 mx-auto text-sm shadow\"\n            >New</span>\n          </p>\n          <sapn\n            class=\"text-sm bg-gray-100 text-gray-500 rounded px-1\"\n          >1 {{ pool.lpName }} = {{formatBN(a1tob,{decimals:0,dp:2})}} {{ pool.lpName.substring(2) }}</sapn>\n        </div>\n      </div>\n    </li>\n    <li class=\"w-5/12 md:w-3/12 flex justify-center items-center\">\n      <div class=\"flex flex-col text-center\">\n        <p class=\"text-lg\">{{ formatBN(ibTotalSupply, { decimals: pool.decimals }) }}</p>\n        <p class=\"text-lg\">{{ pool.lpName }}</p>\n      </div>\n    </li>\n    <li class=\"w-5/12 md:w-3/12 flex justify-center items-center\">\n      <div class=\"flex flex-col text-center\">\n        <p class=\"text-lg\">\n          {{ formatBN(ibBalance, { decimals: pool.decimals }) }}\n          {{ pool.lpName }}\n        </p>\n        <p class=\"text-lg\">\n          {{ formatBN(wantBalance, { decimals: pool.decimals }) }}\n          {{ pool.lpName.substring(2) }}\n        </p>\n      </div>\n    </li>\n    <li class=\"w-2/12\">\n      <div\n        class=\"flex flex-col text-center py-6 cursor-pointer\"\n        @click=\"isShowAction = !isShowAction\"\n      >\n        <div class=\"cursor-not-allowed m-auto font-normal text-gray-500 relative md:static -top-9\">\n          <i v-show=\"isShowAction\" class=\"icon ion-chevron-down\"></i>\n          <i v-show=\"!isShowAction\" class=\"icon ion-chevron-right\"></i>\n        </div>\n      </div>\n    </li>\n  </ul>\n  <ul\n    v-if=\"isShowAction\"\n    class=\"border-b-20 border-white text-gray-400\"\n    :class=\"{ 'bg-gray-50': isShowAction }\"\n  >\n    <li colspan=\"4\" class=\"py-4\">\n      <div class=\"flex-col mx-6 md:flex md:flex-row justify-evenly\">\n        <div class=\"w-full md:w-5/12\">\n          <div class=\"text-sm text-gray-400\">\n            Available Balance:\n            {{ formatBN(wantBalance, { decimals: pool.decimals }) }}\n            {{ pool.lpName.substring(2) }}\n            <template\n              v-if=\"pool.token0addr && pool.token1addr\"\n            >\n              (Get the LP\n              <a\n                class=\"text-green-400\"\n                :href=\"pool.addLp+pool.token0addr + '/'+pool.token1addr\"\n              >here</a>)\n            </template>\n          </div>\n          <div class=\"w-full flex items-center border border-gray-200 bg-white\">\n            <input\n              v-model=\"depositAmt\"\n              type=\"number\"\n              placeholder=\"Deposit Amount\"\n              class=\"outline-none w-full h-10 rounded-md mt-1 pl-4\"\n            />\n            <button\n              @click=\"setDepositMax\"\n              class=\"focus:outline-none text-green-400 appearance-none outline-none h-4/5 border-l border-solid border-gray-200 w-20\"\n            >MAX</button>\n          </div>\n          <div class=\"mt-4 flex flex-wrap justify-center md:justify-between items-center\">\n            <p class=\"text-sm\">\n              You will receive:\n              <span\n                class=\"text-green-400\"\n              >~ {{ formatBN(depositReceive, {decimals:0,dp:18}) }} {{ pool.lpName }}</span>\n            </p>\n            <Button :loading=\"approving\" @click=\"onApprove\" v-if=\"needApprove\">Approve</Button>\n            <Button :loading=\"depositing\" @click=\"onDeposit\" v-else>Deposit</Button>\n          </div>\n        </div>\n        <div class=\"my-4 border\"></div>\n        <div class=\"w-full md:w-5/12\">\n          <div class=\"text-sm text-gray-400\">\n            Available Balance:\n            {{ formatBN(ibBalance, { decimals: pool.decimals }) }}\n            {{ pool.lpName }}\n          </div>\n          <div class=\"w-full flex items-center border border-gray-200 bg-white\">\n            <input\n              v-model=\"withdrawAmt\"\n              type=\"number\"\n              placeholder=\"Withdraw Amount\"\n              class=\"outline-none w-full h-10 rounded-md mt-1 pl-4\"\n            />\n            <button\n              @click=\"setWithdrawMax\"\n              class=\"focus:outline-none text-green-400 appearance-none outline-none h-4/5 border-l border-solid border-gray-200 w-20\"\n            >MAX</button>\n          </div>\n          <div class=\"mt-4 flex flex-wrap justify-center md:justify-between items-center\">\n            <p class=\"text-sm\">\n              You will receive:\n              <span\n                class=\"text-green-400\"\n              >~ {{ formatBN(withdrawReceive, {decimals:0,dp:18}) }} {{ pool.lpName.substring(2) }}</span>\n            </p>\n            <Button :loading=\"withdrawing\" @click=\"onWithdraw\">Withdraw</Button>\n          </div>\n        </div>\n      </div>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport { getContract, getProvider } from \"@/utils/initWeb3\";\nimport ibTokenABI from \"@/assets/abi/ibToken.json\";\nimport vaultABI from \"@/assets/abi/vault.json\";\nimport ERC20ABI from \"@/assets/abi/ERC20.json\";\nimport { ethers } from \"ethers\";\nimport { BigNumber } from \"bignumber.js\";\nimport Button from \"./Button.vue\";\nexport default {\n  components: {\n    Button,\n  },\n  props: {\n    pool: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      isShowAction: false,\n      needApprove: false,\n      depositing: false,\n      approving: false,\n      withdrawing: false,\n      ibTotalSupply: \"0\",\n      ibBalance: \"0\",\n      wantBalance: \"0\",\n      depositAmt: \"0\",\n      depositReceive: \"0\",\n      withdrawAmt: \"0\",\n      withdrawReceive: \"0\",\n      ibToken: null,\n      wantToken: null,\n      a1tob: \"1\",\n    };\n  },\n  watch: {\n    \"$store.state.account\": async function (account) {\n      if (account) {\n        this.loadData();\n      }\n    },\n    async withdrawAmt() {\n      this.withdrawReceive = await this.fbtoa(this.withdrawAmt);\n    },\n    async depositAmt() {\n      this.depositReceive = await this.fatob(this.depositAmt);\n    },\n  },\n  async mounted() {\n    if (this.$store.state.account) {\n      this.loadData();\n    }\n  },\n  methods: {\n    async fatob(amt) {\n      if (!this.pool.isVault) {\n        return amt;\n      }\n      return new BigNumber(amt).multipliedBy(\n        new BigNumber(\n          (await this.ibToken.totalTokenBalance()).toString()\n        ).dividedBy((await this.ibToken.totalShareBalance()).toString())\n      );\n    },\n    async fbtoa(amt) {\n      if (!this.pool.isVault) {\n        return amt;\n      }\n      return new BigNumber(amt).multipliedBy(\n        new BigNumber(\n          (await this.ibToken.totalShareBalance()).toString()\n        ).dividedBy((await this.ibToken.totalTokenBalance()).toString())\n      );\n    },\n    async loadData() {\n      this.ibToken = getContract(\n        this.pool.lendContract,\n        this.pool.isVault ? vaultABI : ibTokenABI\n      );\n      this.wantToken = getContract(\n        await this.ibToken[this.pool.isVault ? \"wantToken\" : \"want\"](),\n        ERC20ABI\n      );\n      if (this.pool.isVault) {\n        this.a1tob = await this.fatob(1);\n      }\n      this.ibTotalSupply = await this.ibToken.totalSupply();\n      this.needApprove =\n        this.pool.lpName == \"ibFTM\"\n          ? false\n          : (\n              await this.wantToken.allowance(\n                this.$store.state.account,\n                this.pool.lendContract\n              )\n            ).lt(ethers.utils.parseUnits(\"10000000000\", this.pool.decimals));\n      this.wantBalance =\n        this.pool.lpName == \"ibFTM\"\n          ? await getProvider().getBalance(this.$store.state.account)\n          : await this.wantToken.balanceOf(this.$store.state.account);\n      this.ibBalance = await this.ibToken.balanceOf(this.$store.state.account);\n    },\n    setDepositMax() {\n      this.depositAmt = this.formatBNWithoutGroup(this.wantBalance, {\n        decimals: this.pool.decimals,\n        dp: this.pool.decimals,\n      });\n    },\n    setWithdrawMax() {\n      this.withdrawAmt = this.formatBNWithoutGroup(this.ibBalance, {\n        decimals: this.pool.decimals,\n        dp: this.pool.decimals,\n      });\n    },\n    async onDeposit() {\n      try {\n        this.depositing = true;\n        const tx = await this.ibToken.deposit(\n          ethers.utils.parseUnits(this.depositAmt, this.pool.decimals),\n          {\n            value:\n              this.pool.lpName == \"ibFTM\"\n                ? ethers.utils.parseUnits(this.depositAmt, this.pool.decimals)\n                : 0,\n          }\n        );\n        await tx.wait();\n        this.loadData();\n      } catch (error) {\n        console.log(\"onDeposit\", error);\n      } finally {\n        this.depositing = false;\n      }\n    },\n    async onWithdraw() {\n      try {\n        this.withdrawing = true;\n        const tx = await (new BigNumber(this.ibBalance).eq(\n          ethers.utils.parseUnits(this.withdrawAmt, this.pool.decimals)\n        )\n          ? this.ibToken.withdrawAll()\n          : this.ibToken.withdraw(\n              ethers.utils.parseUnits(this.withdrawAmt, this.pool.decimals)\n            ));\n        await tx.wait();\n        this.loadData();\n      } catch (error) {\n        console.log(\"onDeposit\", error);\n      } finally {\n        this.withdrawing = false;\n      }\n    },\n    async onApprove() {\n      try {\n        this.approving = true;\n        const tx = await this.wantToken.approve(\n          this.pool.lendContract,\n          ethers.BigNumber.from(\"2\").pow(\"256\").sub(\"1\")\n        );\n        await tx.wait();\n        this.needApprove = false;\n      } catch (error) {\n        console.log(\"onApprove\", error);\n      } finally {\n        this.approving = false;\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./LendCareTr.vue?vue&type=template&id=6cf25e1c\"\nimport script from \"./LendCareTr.vue?vue&type=script&lang=js\"\nexport * from \"./LendCareTr.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}